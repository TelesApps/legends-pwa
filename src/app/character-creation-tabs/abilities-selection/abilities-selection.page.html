<ion-content class="parent-header background-color-darker">
  <ion-grid fixed>
    <ion-row>
      <ion-col class="flex-between" size="12">
        <ion-button size="small">
          arrange
        </ion-button>
        <ion-text color="primary">
          <h2>Abilities</h2>
        </ion-text>
        <ion-fab-button size="small" (click)="onOpenAbilitiesList()">
          <ion-icon name="add"></ion-icon>
        </ion-fab-button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col class="stats-box" size="12">
        <div class="box-title">Foundations</div>
        <div
          *ngIf="creation.characterSelectedAbilities && creation.characterSelectedAbilities.length > 0 else noSkills">
          <ion-accordion-group class="foundations-list">
            <span *ngFor="let ability of creation.characterSelectedAbilities" class="foundation-tags">
              <ion-accordion class="stats-box" *ngIf="ability.tags[0].toLowerCase() === 'foundation'"
                [value]="ability.airtable_id">
                <ion-item slot="header" color="light">
                  <ion-label>{{ ability.title }}</ion-label>
                </ion-item>
                <div class="ion-padding" slot="content">
                  <div><b>{{ ability.title }}:</b></div>
                  {{ ability.description }}
                </div>
              </ion-accordion>
            </span>
          </ion-accordion-group>
        </div>
        <ng-template #noSkills>
          <div>No Foundational Skills Selected</div>
        </ng-template>
      </ion-col>
    </ion-row>
    <ion-row style="width: 106%; margin-left: -3%;">
      <ion-col size="12">
        <ion-accordion-group>
          <ion-reorder-group disabled="true">
            <ion-text *ngIf="creation.characterSelectedAbilities && creation.characterSelectedAbilities.length == 0"
              color="primary" class="ion-text-center">
              <h4>Click the add button to start adding abilities</h4>
            </ion-text>
            <ion-item *ngFor="let ability of creation.characterSelectedAbilities">
              <ion-reorder slot="start"></ion-reorder>
              <ion-accordion *ngIf="ability.tags[0].toLowerCase() !== 'foundation'" class="ability-item" value="colors">
                <ion-item slot="header">
                  <div class="flex-between ability-header">
                    <div>{{ ability.title }}</div>
                    <div>{{ ability.turn_units_req }}</div>
                    <div>{{ ability.execution_cost }}</div>
                  </div>
                </ion-item>
                <ion-list class="ability-details" slot="content">
                  <hr>
                  <div class="ability-details-title">
                    <b>Tags: {{ ability.tags }}</b>
                    <b>Prereq: {{ ability.prereq }}</b>
                    <b>Cost: {{ ability.execution_cost }}</b>
                  </div>
                  <div><p>{{ ability.effect }}</p></div>
                </ion-list>
              </ion-accordion>
            </ion-item>
          </ion-reorder-group>
        </ion-accordion-group>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>